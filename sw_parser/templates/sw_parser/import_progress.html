{% extends 'sw_parser/base.html' %}

{% block content %}
<p>{{ task_id }}</p>
<div class="progress">
    <div class="progress-bar progress-bar-striped active" role="progressbar" id="progress-parse" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%;"></div>
</div>

<p>Parsing Monsters and pieces...</p>
<div class="progress">
    <div class="progress-bar" role="progressbar" id="progress-monsters" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0;"></div>
</div>

<p>Parsing Runes...</p>
<div class="progress">
    <div class="progress-bar" role="progressbar" id="progress-runes" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0;"></div>
</div>

<p>Parsing Grindstones and Enchant Gems...</p>
<div class="progress">
    <div class="progress-bar" role="progressbar" id="progress-crafts" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0;"></div>
</div>
{% endblock content %}

{% block javascript %}
<script type="application/javascript">
function updateImportProgress() {
    $.ajax({
        type: 'get',
        url: '/data/import/progress/data/',
        global: false
    }).done(function(response) {
        console.log(response);
    });
}

$(document).ready(function() {
    updateInterval = setInterval(updateImportProgress, 2000);
});


</script>
{% endblock javascript %}